<% if @passenger.nil? %>
  <h1> 404 Not found</h1>
<% else %>
  <h1><%=@passenger.name %></h1>
  <p>Phone Number:<%= @passenger.phone_num %> </p>
  <p>Total Spending in USD: $<%= sprintf('%.2f', @passenger.total_spending) %> </p>
  <p><%= link_to "Request New Trip", passenger_trips_path(@passenger.id), method: :create %> </p>
  <!-- <%= button_to "Edit Driver", edit_driver_path(@driver.id), method: :get %> -->
  <!-- <%= button_to "Delete Driver", driver_path(@driver.id), method: :delete, data: { confirm: "Are you sure?"}%> -->

  <%= button_to "Edit Passenger", edit_passenger_path(@passenger.id), method: :create %>

  <%= button_to "Delete Passenger", passenger_path(@passenger.id), method: :delete , data: {confirm: "Are you sure?"}%>
  <!-- <p><%= link_to "Trips", passenger_trips_path(@passenger.id) %> </p> -->
  <table>
  <tr class="header"><td>Date</td><td>Drivers</td><td>Rating</td><td>Cost</td></tr>
  <p><%@passenger.trips.map do |trip| %>
    <tr>
    <td><%=trip.date%></td>
    <!-- the show method for passener expects expects the id of the passenger. So, you have to find it using the method in the model by testing it in the consule -->
    <td><%= link_to "Driver", driver_path(trip.driver.id) %></td>
    <td><%=trip.rating%></td>
    <td>$<%=sprintf('%.2f', trip.cost/100)%></td>
    </tr>
  <%end%>
  </table>

<% end %>
