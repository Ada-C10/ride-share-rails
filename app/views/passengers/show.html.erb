<h2>Passenger Details</h2>

<h3><%= link_to "Request Ride", new_passenger_trip_path(@passenger) %></h3>

<table>
    <tr>
      <td>Name: <%= @passenger.name %></td>
      <td>Photo</td>
    </tr>
    <tr>
      <td>Phone Number: <%= @passenger.phone_num%></td>
      <td>Total Charged: $<%= @passenger.total_spent/100.to_f %></td>
    </tr>
</table>

<div class="show_actions">
  <%= link_to "Edit", edit_passenger_path(@passenger)  %> |
  <%= link_to "Delete", passenger_path(@passenger), method: :delete, data: { confirm: "Are you sure you want to delete passenger: #{@passenger.name}?" } %> |
  <%= link_to "Book a new trip", passenger_trips_path(@passenger), method: :post %>
</div>


<h3>Passenger Trips</h3>
<table>
  <thead>
    <td>
      ID
    </td>
    <td>
      Date
    </td>
    <td>
      Driver
    </td>
    <td>
      Passenger
    </td>
    <td>
      Price
    </td>
    <td>
      Rating
    </td>
    <td>
      Delete
    </td>
  </thead>
  <tbody>

<!-- QUESTION: change driver and pass ids to names?? -->
<% @passenger.trips.each do |trip| %>
  <tr>
    <td>
      <!-- QUESTION: maybe add a link in trip show detail page back to driver+passenger?? -->
      <%= link_to "#{trip.id}", trip_path(trip) %>
    </td>
    <td>
      <%= trip.date %>
    </td>
    <td>
      <%= trip.driver_id %>
    </td>
    <td>
      <%= trip.passenger_id %>
    </td>
    <td>
      $<%= trip.cost/100.to_f %>
    </td>
    <td>
      <%= trip.rating %>
    </td>
    <td>
      <%= link_to "Delete", trip_path(trip), method: :delete, data: { confirm: "Are you sure you want to delete this trip?" } %>
    </td>
  </tr>
  <% end %>
</tbody>
</table>
